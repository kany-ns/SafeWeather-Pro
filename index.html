<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeWeather Pro | Real-Time Weather & Safety Platform</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="weather-default" id="weatherBackground">
    <!-- Animated Background Elements -->
    <div class="bg-animation sun" id="sunAnimation"></div>
    <div class="bg-animation clouds" id="cloudsAnimation"></div>
    <div class="bg-animation rain" id="rainAnimation"></div>
    <div class="bg-animation haze" id="hazeAnimation"></div>
    
    <!-- Premium Upgrade Banner -->
    <div class="premium-banner" id="premiumBanner">
        <div class="banner-content">
            <i class="fas fa-crown"></i>
            <span>Upgrade to <strong>Premium</strong> for unlimited reports, advanced alerts, and more features!</span>
            <button class="btn-premium" onclick="showSection('premium')">
                <i class="fas fa-rocket"></i> Upgrade Now
            </button>
        </div>
        <button class="banner-close" onclick="closePremiumBanner()">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- Navigation -->
    <nav class="navbar glass-nav">
        <div class="nav-container">
            <!-- Logo -->
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-cloud-sun-rain fa-spin"></i>
                </div>
                <div class="logo-text">
                    <h1>Safe<span class="weather-text">Weather</span><span class="pro-badge">PRO</span></h1>
                    <p class="tagline">Real-Time Safety Platform</p>
                </div>
            </div>

            <!-- Navigation Links -->
            <div class="nav-menu">
                <a href="#" class="nav-link active" onclick="showSection('home')">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="nav-link" onclick="showSection('weather')">
                    <i class="fas fa-cloud-sun"></i>
                    <span>Live Weather</span>
                </a>
                <a href="#" class="nav-link" onclick="showSection('report')">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Report</span>
                </a>
                <a href="#" class="nav-link" onclick="showSection('alerts')">
                    <i class="fas fa-bell"></i>
                    <span>Alerts</span>
                    <span class="badge" id="alertBadge">3</span>
                </a>
                <a href="#" class="nav-link" onclick="showSection('map')">
                    <i class="fas fa-map-marked-alt"></i>
                    <span>Map</span>
                </a>
                <a href="#" class="nav-link" onclick="showSection('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-link premium-link" onclick="showSection('premium')">
                    <i class="fas fa-crown"></i>
                    <span>Premium</span>
                </a>
            </div>

            <!-- User Controls -->
            <div class="user-controls">
                <!-- Theme Toggle -->
                <div class="theme-toggle" id="themeToggle">
                    <input type="checkbox" id="themeSwitch" hidden>
                    <label for="themeSwitch" class="theme-label">
                        <span class="sun-icon">
                            <i class="fas fa-sun"></i>
                        </span>
                        <span class="moon-icon">
                            <i class="fas fa-moon"></i>
                        </span>
                        <span class="toggle-ball"></span>
                    </label>
                </div>

                <!-- Language Toggle -->
                <div class="language-toggle">
                    <button class="lang-btn" id="languageToggle" onclick="toggleLanguage()">
                        <i class="fas fa-language"></i>
                        <span id="currentLang">EN</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="lang-dropdown" id="langDropdown">
                        <a href="#" onclick="setLanguage('en')">English</a>
                        <a href="#" onclick="setLanguage('ms')">Bahasa Malaysia</a>
                    </div>
                </div>

                <!-- User Profile -->
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" onclick="toggleUserMenu()">
                        <i class="fas fa-user-circle"></i>
                        <span class="user-status"></span>
                    </div>
                    <div class="user-menu" id="userMenu">
                        <div class="user-info">
                            <h4 id="userName">Guest User</h4>
                            <p id="userEmail">guest@safeweather.my</p>
                            <span class="user-role" id="userRole">GUEST</span>
                        </div>
                        <div class="menu-links">
                            <a href="#" onclick="showSection('profile')">
                                <i class="fas fa-user-cog"></i> My Profile
                            </a>
                            <a href="#" onclick="showSection('settings')">
                                <i class="fas fa-cog"></i> Settings
                            </a>
                            <a href="#" onclick="showSection('reports-history')">
                                <i class="fas fa-history"></i> My Reports
                            </a>
                            <a href="#" onclick="showSection('premium')" class="premium">
                                <i class="fas fa-crown"></i> Upgrade to Premium
                            </a>
                            <hr>
                            <a href="#" onclick="logout()" class="logout">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Auth Buttons -->
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-login" onclick="showSection('login')">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button class="btn btn-register" onclick="showSection('register')">
                        <i class="fas fa-user-plus"></i> Register
                    </button>
                </div>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- ===== HOME SECTION ===== -->
        <section id="home" class="section active">
            <div class="hero-section">
                <div class="hero-content animate__animated animate__fadeInLeft">
                    <h1 class="hero-title">
                        <span class="gradient-text">SafeWeather Pro</span>
                        <br>Advanced Weather Safety Platform
                    </h1>
                    <p class="hero-subtitle">
                        Real-time weather monitoring, hazard alerts, and safety management for schools and communities.
                    </p>
                    
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="liveUsers">1,247</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="reportsToday">89</div>
                            <div class="stat-label">Reports Today</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="alertsActive">12</div>
                            <div class="stat-label">Active Alerts</div>
                        </div>
                    </div>

                    <div class="hero-actions">
                        <button class="btn btn-primary btn-lg" onclick="showSection('weather')">
                            <i class="fas fa-cloud-sun"></i> View Live Weather
                        </button>
                        <button class="btn btn-secondary btn-lg" onclick="showSection('report')">
                            <i class="fas fa-exclamation-circle"></i> Report Hazard
                        </button>
                        <button class="btn btn-outline btn-lg" onclick="showSection('register')">
                            <i class="fas fa-rocket"></i> Get Started Free
                        </button>
                    </div>
                </div>

                <div class="hero-visual animate__animated animate__fadeInRight">
                    <div class="weather-widget glass-card">
                        <div class="widget-header">
                            <h3><i class="fas fa-map-marker-alt"></i> Current Location</h3>
                            <button class="btn-refresh" onclick="refreshWeather()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="widget-body">
                            <div class="current-weather" id="currentWeather">
                                <!-- Weather data will be loaded here -->
                                <div class="loading-spinner">
                                    <i class="fas fa-cloud-sun fa-spin"></i>
                                    <p>Loading weather data...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="features-section">
                <h2 class="section-title">Why Choose SafeWeather Pro?</h2>
                <p class="section-subtitle">Comprehensive weather safety solutions for everyone</p>

                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon color-1">
                            <i class="fas fa-satellite-dish fa-spin"></i>
                        </div>
                        <h3>Live Weather Data</h3>
                        <p>Real-time weather updates with haze, visibility, and air quality indexes.</p>
                        <span class="feature-badge free">FREE</span>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon color-2">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <h3>Hazard Reporting</h3>
                        <p>Report and track weather hazards in your area. Help keep others safe.</p>
                        <span class="feature-badge free">FREE</span>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon color-3">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h3>Smart Alerts</h3>
                        <p>Customizable alerts via SMS, email, and push notifications.</p>
                        <span class="feature-badge premium">PREMIUM</span>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon color-4">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Advanced Analytics</h3>
                        <p>Historical data, trends, and predictive analytics for risk assessment.</p>
                        <span class="feature-badge premium">PREMIUM</span>
                    </div>
                </div>
            </div>

            <!-- Role Information -->
            <div class="roles-section glass-card">
                <h2 class="section-title">Choose Your Role</h2>
                <div class="roles-grid">
                    <div class="role-card">
                        <div class="role-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <h3>Guest User</h3>
                        <ul>
                            <li><i class="fas fa-check"></i> View live weather</li>
                            <li><i class="fas fa-check"></i> Browse public reports</li>
                            <li><i class="fas fa-check"></i> Basic alerts</li>
                            <li><i class="fas fa-times"></i> Limited to 1 report/week</li>
                        </ul>
                        <button class="btn btn-outline" onclick="continueAsGuest()">
                            Continue as Guest
                        </button>
                    </div>

                    <div class="role-card featured">
                        <div class="role-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <h3>Registered User</h3>
                        <ul>
                            <li><i class="fas fa-check"></i> All guest features</li>
                            <li><i class="fas fa-check"></i> Submit reports</li>
                            <li><i class="fas fa-check"></i> Personal dashboard</li>
                            <li><i class="fas fa-check"></i> Save locations</li>
                            <li><i class="fas fa-times"></i> 5 reports/month limit</li>
                        </ul>
                        <button class="btn btn-primary" onclick="showSection('register')">
                            Register Free
                        </button>
                    </div>

                    <div class="role-card premium">
                        <div class="role-icon">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <h3>Premium User</h3>
                        <ul>
                            <li><i class="fas fa-check"></i> All registered features</li>
                            <li><i class="fas fa-check"></i> Unlimited reports</li>
                            <li><i class="fas fa-check"></i> Advanced analytics</li>
                            <li><i class="fas fa-check"></i> Priority alerts</li>
                            <li><i class="fas fa-check"></i> SMS notifications</li>
                        </ul>
                        <button class="btn btn-premium" onclick="showSection('premium')">
                            <i class="fas fa-crown"></i> Upgrade Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== LOGIN SECTION ===== -->
        <section id="login" class="section">
            <div class="auth-container">
                <div class="auth-card glass-card">
                    <div class="auth-header">
                        <h2><i class="fas fa-sign-in-alt"></i> Welcome Back</h2>
                        <p>Login to access your personalized dashboard</p>
                    </div>

                    <form id="loginForm" class="auth-form">
                        <div class="form-group">
                            <label for="loginEmail"><i class="fas fa-envelope"></i> Email Address</label>
                            <input type="email" id="loginEmail" placeholder="Enter your email" required>
                        </div>

                        <div class="form-group">
                            <label for="loginPassword"><i class="fas fa-lock"></i> Password</label>
                            <div class="password-input">
                                <input type="password" id="loginPassword" placeholder="Enter your password" required>
                                <button type="button" class="show-password" onclick="togglePassword('loginPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="loginRole"><i class="fas fa-user-tag"></i> Login As</label>
                            <select id="loginRole" class="form-select">
                                <option value="user">Regular User</option>
                                <option value="premium">Premium User</option>
                                <option value="admin">Administrator</option>
                            </select>
                        </div>

                        <div class="form-options">
                            <label class="checkbox">
                                <input type="checkbox" id="rememberLogin">
                                <span class="checkmark"></span>
                                Remember me
                            </label>
                            <a href="#" class="forgot-link" onclick="showForgotPassword()">Forgot password?</a>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-sign-in-alt"></i> Login to Dashboard
                        </button>

                        <div class="auth-divider">
                            <span>Or continue with</span>
                        </div>

                        <div class="social-login">
                            <button type="button" class="btn btn-google" onclick="socialLogin('google')">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button type="button" class="btn btn-facebook" onclick="socialLogin('facebook')">
                                <i class="fab fa-facebook"></i> Facebook
                            </button>
                        </div>
                    </form>

                    <div class="auth-footer">
                        <p>Don't have an account? <a href="#" onclick="showSection('register')">Register here</a></p>
                        <p>Just want to browse? <a href="#" onclick="continueAsGuest()">Continue as Guest</a></p>
                    </div>

                    <!-- Demo Login Credentials -->
                    <div class="demo-credentials">
                        <h4><i class="fas fa-user-secret"></i> Demo Credentials</h4>
                        <div class="demo-grid">
                            <div class="demo-card" onclick="fillDemoCredentials('user')">
                                <strong>Regular User</strong>
                                <small>user@demo.com</small>
                                <small>Password: User@123</small>
                            </div>
                            <div class="demo-card" onclick="fillDemoCredentials('premium')">
                                <strong>Premium User</strong>
                                <small>premium@demo.com</small>
                                <small>Password: Premium@123</small>
                            </div>
                            <div class="demo-card" onclick="fillDemoCredentials('admin')">
                                <strong>Administrator</strong>
                                <small>admin@demo.com</small>
                                <small>Password: Admin@123</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== REGISTER SECTION ===== -->
        <section id="register" class="section">
            <div class="auth-container">
                <div class="auth-card glass-card">
                    <div class="auth-header">
                        <h2><i class="fas fa-user-plus"></i> Create Your Account</h2>
                        <p>Join SafeWeather Pro for enhanced safety features</p>
                    </div>

                    <form id="registerForm" class="auth-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName"><i class="fas fa-user"></i> First Name</label>
                                <input type="text" id="firstName" placeholder="John" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name</label>
                                <input type="text" id="lastName" placeholder="Doe" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="registerEmail"><i class="fas fa-envelope"></i> Email Address</label>
                            <input type="email" id="registerEmail" placeholder="john@example.com" required>
                        </div>

                        <div class="form-group">
                            <label for="registerPhone"><i class="fas fa-phone"></i> Phone Number</label>
                            <input type="tel" id="registerPhone" placeholder="+60 12-345 6789" required>
                        </div>

                        <div class="form-group">
                            <label for="registerPassword"><i class="fas fa-lock"></i> Create Password</label>
                            <div class="password-input">
                                <input type="password" id="registerPassword" placeholder="Create strong password" required
                                       oninput="checkPasswordStrength(this.value)">
                                <button type="button" class="show-password" onclick="togglePassword('registerPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength">
                                <div class="strength-bar">
                                    <div class="strength-fill" id="strengthFill"></div>
                                </div>
                                <span class="strength-text" id="strengthText">Password strength</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" placeholder="Confirm your password" required
                                   oninput="checkPasswordMatch()">
                            <span class="match-status" id="matchStatus"></span>
                        </div>

                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="termsAgree" required>
                                <span class="checkmark"></span>
                                I agree to the <a href="#" onclick="showTerms()">Terms & Conditions</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="newsletterOpt" checked>
                                <span class="checkmark"></span>
                                Subscribe to weather alerts and safety updates
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-user-plus"></i> Create Free Account
                        </button>
                    </form>

                    <div class="auth-footer">
                        <p>Already have an account? <a href="#" onclick="showSection('login')">Login here</a></p>
                        <p><a href="#" onclick="showSection('home')"><i class="fas fa-arrow-left"></i> Back to Home</a></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== WEATHER SECTION ===== -->
        <section id="weather" class="section">
            <div class="weather-container">
                <div class="weather-header">
                    <h1><i class="fas fa-cloud-sun"></i> Live Weather Dashboard</h1>
                    <p>Real-time weather conditions and forecasts</p>
                </div>

                <!-- Location Selector -->
                <div class="location-selector glass-card">
                    <div class="location-input">
                        <i class="fas fa-map-marker-alt"></i>
                        <input type="text" id="locationSearch" placeholder="Search location or use your current location" value="Batu Pahat, Johor">
                        <button class="btn btn-primary" onclick="getCurrentLocation()">
                            <i class="fas fa-location-arrow"></i> Current
                        </button>
                    </div>
                    <div class="location-buttons">
                        <button class="location-btn active" onclick="setLocation('Kuala Lumpur')">Kuala Lumpur</button>
                        <button class="location-btn" onclick="setLocation('Johor Bahru')">Johor Bahru</button>
                        <button class="location-btn" onclick="setLocation('Penang')">Penang</button>
                        <button class="location-btn" onclick="setLocation('Kota Kinabalu')">Kota Kinabalu</button>
                        <button class="location-btn" onclick="setLocation('Kuching')">Kuching</button>
                    </div>
                </div>

                <!-- Current Weather -->
                <div class="current-weather-container">
                    <div class="current-weather-card glass-card">
                        <div class="weather-main">
                            <div class="weather-icon" id="weatherIcon">
                                <i class="fas fa-sun fa-4x"></i>
                            </div>
                            <div class="weather-info">
                                <h2 id="currentLocation">Batu Pahat, Johor</h2>
                                <div class="temperature">
                                    <span class="temp-value" id="currentTemp">32</span>
                                    <span class="temp-unit">°C</span>
                                </div>
                                <p class="weather-desc" id="weatherDesc">Sunny</p>
                            </div>
                        </div>
                        
                        <div class="weather-details">
                            <div class="detail-item">
                                <i class="fas fa-wind"></i>
                                <div>
                                    <span class="detail-value" id="windSpeed">12</span>
                                    <span class="detail-label">km/h</span>
                                </div>
                                <p>Wind</p>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-tint"></i>
                                <div>
                                    <span class="detail-value" id="humidity">78</span>
                                    <span class="detail-label">%</span>
                                </div>
                                <p>Humidity</p>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-eye"></i>
                                <div>
                                    <span class="detail-value" id="visibility">8</span>
                                    <span class="detail-label">km</span>
                                </div>
                                <p>Visibility</p>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-temperature-high"></i>
                                <div>
                                    <span class="detail-value" id="feelsLike">35</span>
                                    <span class="detail-label">°C</span>
                                </div>
                                <p>Feels Like</p>
                            </div>
                        </div>

                        <!-- Air Quality Index -->
                        <div class="air-quality">
                            <h3><i class="fas fa-wind"></i> Air Quality Index (AQI)</h3>
                            <div class="aqi-meter">
                                <div class="aqi-scale">
                                    <span class="aqi-level good">Good</span>
                                    <span class="aqi-level moderate">Moderate</span>
                                    <span class="aqi-level unhealthy">Unhealthy</span>
                                    <span class="aqi-level very-unhealthy">Very Unhealthy</span>
                                    <span class="aqi-level hazardous">Hazardous</span>
                                </div>
                                <div class="aqi-pointer" id="aqiPointer" style="left: 30%;"></div>
                            </div>
                            <div class="aqi-value" id="aqiValue">
                                <span class="aqi-number">85</span>
                                <span class="aqi-status moderate">Moderate</span>
                                <span class="aqi-desc">Air quality is acceptable</span>
                            </div>
                        </div>
                    </div>

                    <!-- Weather Forecast -->
                    <div class="weather-forecast glass-card">
                        <h3><i class="fas fa-calendar-alt"></i> 5-Day Forecast</h3>
                        <div class="forecast-grid" id="forecastGrid">
                            <!-- Forecast items will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Haze Monitoring -->
                <div class="haze-monitoring glass-card">
                    <h3><i class="fas fa-smog"></i> Haze Monitoring & Alerts</h3>
                    <div class="haze-status">
                        <div class="haze-level">
                            <div class="level-indicator" id="hazeIndicator"></div>
                            <div class="level-info">
                                <h4 id="hazeLevel">MODERATE HAZE</h4>
                                <p id="hazeAdvice">Sensitive groups should reduce prolonged outdoor exertion</p>
                            </div>
                        </div>
                        <div class="haze-metrics">
                            <div class="metric">
                                <span class="metric-label">PM2.5</span>
                                <span class="metric-value" id="pm25">65 μg/m³</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">PM10</span>
                                <span class="metric-value" id="pm10">89 μg/m³</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">API</span>
                                <span class="metric-value" id="api">85</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weather Alerts -->
                <div class="weather-alerts" id="weatherAlerts">
                    <!-- Alerts will be loaded here -->
                </div>
            </div>
        </section>

        <!-- ===== REPORT SECTION ===== -->
        <section id="report" class="section">
            <div class="report-container">
                <div class="report-header">
                    <h1><i class="fas fa-exclamation-triangle"></i> Report Weather Hazard</h1>
                    <p>Help keep others safe by reporting weather conditions in your area</p>
                </div>

                <!-- Report Form -->
                <div class="report-form-container">
                    <div class="report-form glass-card">
                        <form id="weatherReportForm">
                            <div class="form-section">
                                <h3><i class="fas fa-map-marker-alt"></i> Location Details</h3>
                                <div class="form-group">
                                    <label for="reportLocation">Location *</label>
                                    <input type="text" id="reportLocation" placeholder="Enter specific location" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="reportDistrict">District</label>
                                        <select id="reportDistrict" class="form-select">
                                            <option value="batu-pahat">Batu Pahat</option>
                                            <option value="johor-bahru">Johor Bahru</option>
                                            <option value="kluang">Kluang</option>
                                            <option value="muar">Muar</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="reportArea">Area Type</label>
                                        <select id="reportArea" class="form-select">
                                            <option value="school">School Area</option>
                                            <option value="residential">Residential</option>
                                            <option value="highway">Highway</option>
                                            <option value="rural">Rural</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3><i class="fas fa-cloud"></i> Weather Conditions</h3>
                                <div class="form-group">
                                    <label>Hazard Type *</label>
                                    <div class="hazard-types">
                                        <label class="hazard-option" onclick="selectHazard('haze')">
                                            <input type="radio" name="hazardType" value="haze" required>
                                            <div class="hazard-icon">
                                                <i class="fas fa-smog"></i>
                                            </div>
                                            <span>Haze</span>
                                        </label>
                                        <label class="hazard-option" onclick="selectHazard('rain')">
                                            <input type="radio" name="hazardType" value="rain">
                                            <div class="hazard-icon">
                                                <i class="fas fa-cloud-rain"></i>
                                            </div>
                                            <span>Heavy Rain</span>
                                        </label>
                                        <label class="hazard-option" onclick="selectHazard('storm')">
                                            <input type="radio" name="hazardType" value="storm">
                                            <div class="hazard-icon">
                                                <i class="fas fa-bolt"></i>
                                            </div>
                                            <span>Storm</span>
                                        </label>
                                        <label class="hazard-option" onclick="selectHazard('flood')">
                                            <input type="radio" name="hazardType" value="flood">
                                            <div class="hazard-icon">
                                                <i class="fas fa-water"></i>
                                            </div>
                                            <span>Flood</span>
                                        </label>
                                        <label class="hazard-option" onclick="selectHazard('other')">
                                            <input type="radio" name="hazardType" value="other">
                                            <div class="hazard-icon">
                                                <i class="fas fa-exclamation"></i>
                                            </div>
                                            <span>Other</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="severityLevel">Severity Level *</label>
                                    <div class="severity-levels">
                                        <label class="severity-option" onclick="selectSeverity('low')">
                                            <input type="radio" name="severity" value="low" required>
                                            <span class="severity-dot low"></span>
                                            <span>Low</span>
                                        </label>
                                        <label class="severity-option" onclick="selectSeverity('medium')">
                                            <input type="radio" name="severity" value="medium">
                                            <span class="severity-dot medium"></span>
                                            <span>Medium</span>
                                        </label>
                                        <label class="severity-option" onclick="selectSeverity('high')">
                                            <input type="radio" name="severity" value="high">
                                            <span class="severity-dot high"></span>
                                            <span>High</span>
                                        </label>
                                        <label class="severity-option" onclick="selectSeverity('extreme')">
                                            <input type="radio" name="severity" value="extreme">
                                            <span class="severity-dot extreme"></span>
                                            <span>Extreme</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="reportDescription">Description *</label>
                                    <textarea id="reportDescription" rows="4" 
                                              placeholder="Describe the weather conditions, visibility, and any safety concerns..."
                                              required></textarea>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3><i class="fas fa-images"></i> Media (Optional)</h3>
                                <div class="form-group">
                                    <label class="file-upload-label">
                                        <i class="fas fa-camera"></i>
                                        <span>Upload Photos or Videos</span>
                                        <input type="file" id="reportMedia" accept="image/*,video/*" multiple hidden>
                                    </label>
                                    <div id="mediaPreview"></div>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="previewReport()">
                                    <i class="fas fa-eye"></i> Preview Report
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-paper-plane"></i> Submit Report
                                </button>
                                <button type="button" class="btn btn-outline" onclick="saveDraft()">
                                    <i class="fas fa-save"></i> Save Draft
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Report Preview -->
                    <div class="report-preview glass-card" id="reportPreview">
                        <h3><i class="fas fa-file-alt"></i> Report Preview</h3>
                        <div class="preview-content" id="previewContent">
                            <!-- Preview will be loaded here -->
                        </div>
                        <div class="preview-actions">
                            <button class="btn btn-outline" onclick="editReport()">
                                <i class="fas fa-edit"></i> Edit Report
                            </button>
                            <button class="btn btn-primary" onclick="submitReport()">
                                <i class="fas fa-check"></i> Confirm & Submit
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recent Reports -->
                <div class="recent-reports">
                    <h3><i class="fas fa-history"></i> Recent Community Reports</h3>
                    <div class="reports-grid" id="recentReports">
                        <!-- Reports will be loaded here -->
                    </div>
                </div>

                <!-- Report Limits -->
                <div class="report-limits glass-card" id="reportLimits">
                    <h3><i class="fas fa-chart-bar"></i> Your Reporting Status</h3>
                    <div class="limit-info">
                        <div class="limit-meter">
                            <div class="meter-fill" id="reportMeter"></div>
                        </div>
                        <div class="limit-details">
                            <p><strong id="reportsUsed">0</strong> reports used out of <strong id="reportsLimit">5</strong> this month</p>
                            <p class="limit-note" id="limitNote">Free users are limited to 5 reports per month</p>
                        </div>
                    </div>
                    <button class="btn btn-premium" onclick="showSection('premium')">
                        <i class="fas fa-crown"></i> Upgrade for Unlimited Reports
                    </button>
                </div>
            </div>
        </section>

        <!-- ===== DASHBOARD SECTION ===== -->
        <section id="dashboard" class="section">
            <div class="dashboard-container">
                <!-- Dashboard content will be loaded based on user role -->
                <div class="dashboard-loading">
                    <i class="fas fa-tachometer-alt fa-spin fa-3x"></i>
                    <h3>Loading your dashboard...</h3>
                </div>
            </div>
        </section>

        <!-- ===== PREMIUM SECTION ===== -->
        <section id="premium" class="section">
            <div class="premium-container">
                <div class="premium-header">
                    <h1><i class="fas fa-crown"></i> Upgrade to SafeWeather Pro Premium</h1>
                    <p>Unlock advanced features for enhanced safety and convenience</p>
                </div>

                <!-- Pricing Plans -->
                <div class="pricing-plans">
                    <div class="pricing-card">
                        <div class="plan-header">
                            <h3>Free</h3>
                            <div class="plan-price">
                                <span class="price">RM 0</span>
                                <span class="period">/month</span>
                            </div>
                        </div>
                        <div class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> Basic weather data</li>
                                <li><i class="fas fa-check"></i> 5 reports/month</li>
                                <li><i class="fas fa-check"></i> Email alerts</li>
                                <li><i class="fas fa-times"></i> No SMS alerts</li>
                                <li><i class="fas fa-times"></i> No historical data</li>
                                <li><i class="fas fa-times"></i> No priority support</li>
                            </ul>
                        </div>
                        <button class="btn btn-outline" onclick="showSection('register')">
                            Get Started Free
                        </button>
                    </div>

                    <div class="pricing-card popular">
                        <div class="popular-badge">MOST POPULAR</div>
                        <div class="plan-header">
                            <h3>Pro</h3>
                            <div class="plan-price">
                                <span class="price">RM 9.99</span>
                                <span class="period">/month</span>
                            </div>
                            <p class="plan-save">Save 20% with annual billing</p>
                        </div>
                        <div class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> All Free features</li>
                                <li><i class="fas fa-check"></i> Unlimited reports</li>
                                <li><i class="fas fa-check"></i> SMS & Push alerts</li>
                                <li><i class="fas fa-check"></i> Historical data (1 year)</li>
                                <li><i class="fas fa-check"></i> Advanced analytics</li>
                                <li><i class="fas fa-check"></i> Priority support</li>
                            </ul>
                        </div>
                        <button class="btn btn-primary" onclick="upgradeToPro()">
                            <i class="fas fa-crown"></i> Upgrade to Pro
                        </button>
                    </div>

                    <div class="pricing-card">
                        <div class="plan-header">
                            <h3>Enterprise</h3>
                            <div class="plan-price">
                                <span class="price">RM 49.99</span>
                                <span class="period">/month</span>
                            </div>
                        </div>
                        <div class="plan-features">
                            <ul>
                                <li><i class="fas fa-check"></i> All Pro features</li>
                                <li><i class="fas fa-check"></i> Custom API access</li>
                                <li><i class="fas fa-check"></i> Multi-location monitoring</li>
                                <li><i class="fas fa-check"></i> Custom alert rules</li>
                                <li><i class="fas fa-check"></i> Dedicated support</li>
                                <li><i class="fas fa-check"></i> White-label option</li>
                            </ul>
                        </div>
                        <button class="btn btn-secondary" onclick="contactSales()">
                            Contact Sales
                        </button>
                    </div>
                </div>

                <!-- Feature Comparison -->
                <div class="feature-comparison glass-card">
                    <h3>Feature Comparison</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Free</th>
                                <th>Pro</th>
                                <th>Enterprise</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Weather Reports</td>
                                <td>5/month</td>
                                <td>Unlimited</td>
                                <td>Unlimited</td>
                            </tr>
                            <tr>
                                <td>Alert Methods</td>
                                <td>Email only</td>
                                <td>SMS, Email, Push</td>
                                <td>All + Custom</td>
                            </tr>
                            <tr>
                                <td>Historical Data</td>
                                <td>7 days</td>
                                <td>1 year</td>
                                <td>Unlimited</td>
                            </tr>
                            <tr>
                                <td>API Access</td>
                                <td>Limited</td>
                                <td>Standard</td>
                                <td>Full + Custom</td>
                            </tr>
                            <tr>
                                <td>Support</td>
                                <td>Community</td>
                                <td>Priority</td>
                                <td>Dedicated</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Payment Section -->
                <div class="payment-section glass-card" id="paymentSection">
                    <h3><i class="fas fa-credit-card"></i> Complete Your Upgrade</h3>
                    <div class="payment-form">
                        <!-- Payment form will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- More sections would continue here (Alerts, Map, Profile, Settings, etc.) -->

    </main>

    <!-- Chatbot Widget -->
    <div class="chatbot-widget" id="chatbotWidget">
        <div class="chatbot-header">
            <div class="chatbot-title">
                <i class="fas fa-robot"></i>
                <h3>SafeWeather Assistant</h3>
                <span class="chatbot-status online">Online</span>
            </div>
            <button class="chatbot-close" onclick="toggleChatbot()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                <div class="message-content">
                    Hello! I'm your SafeWeather assistant. How can I help you today?
                </div>
                <div class="message-time">Just now</div>
            </div>
        </div>
        
        <div class="chatbot-input">
            <input type="text" placeholder="Type your message..." id="chatbotInput">
            <button class="send-btn" onclick="sendChatMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        
        <div class="chatbot-quick-actions">
            <button class="quick-action" onclick="quickAction('weather')">
                <i class="fas fa-cloud-sun"></i> Current Weather
            </button>
            <button class="quick-action" onclick="quickAction('report')">
                <i class="fas fa-exclamation"></i> Report Hazard
            </button>
            <button class="quick-action" onclick="quickAction('alerts')">
                <i class="fas fa-bell"></i> My Alerts
            </button>
            <button class="quick-action" onclick="quickAction('help')">
                <i class="fas fa-question-circle"></i> Help
            </button>
        </div>
    </div>

    <!-- Chatbot Toggle Button -->
    <button class="chatbot-toggle-btn" onclick="toggleChatbot()">
        <i class="fas fa-robot"></i>
        <span class="notification-dot"></span>
    </button>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">
                    <i class="fas fa-cloud-sun-rain"></i>
                    <h3>SafeWeather Pro</h3>
                </div>
                <p>Advanced weather safety platform for schools, communities, and businesses.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="#" onclick="showSection('home')">Home</a>
                <a href="#" onclick="showSection('weather')">Live Weather</a>
                <a href="#" onclick="showSection('report')">Report Hazard</a>
                <a href="#" onclick="showSection('alerts')">Alerts</a>
                <a href="#" onclick="showSection('premium')">Premium</a>
            </div>
            
            <div class="footer-section">
                <h4>Resources</h4>
                <a href="#" onclick="showSection('faq')">FAQ</a>
                <a href="#" onclick="showSection('documentation')">Documentation</a>
                <a href="#" onclick="showSection('api')">API</a>
                <a href="#" onclick="showTerms()">Terms of Service</a>
                <a href="#" onclick="showPrivacy()">Privacy Policy</a>
            </div>
            
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p><i class="fas fa-envelope"></i> support@safeweather.my</p>
                <p><i class="fas fa-phone"></i> +60 12-345 6789</p>
                <p><i class="fas fa-map-marker-alt"></i> Batu Pahat, Johor, Malaysia</p>
                <button class="btn btn-outline btn-small" onclick="showSection('contact')">
                    <i class="fas fa-headset"></i> Contact Support
                </button>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; <span id="currentYear"></span> SafeWeather Pro. All rights reserved.</p>
            <div class="footer-actions">
                <button onclick="window.print()" class="print-btn">
                    <i class="fas fa-print"></i> Print Page
                </button>
                <button onclick="toggleLanguage()" class="lang-btn">
                    <i class="fas fa-language"></i> <span id="footerLang">EN</span>
                </button>
                <button onclick="toggleTheme()" class="theme-btn">
                    <i class="fas fa-palette"></i> Theme
                </button>
                <button onclick="toggleChatbot()" class="chatbot-btn">
                    <i class="fas fa-robot"></i> Chat
                </button>
            </div>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
    <script src="weather-api.js"></script>
    <script src="auth.js"></script>
    <script src="chatbot.js"></script>
    <script src="premium.js"></script>

    <script>
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadCurrentWeather();
            updateUserInterface();
            startBackgroundAnimations();
        });
    </script>
</body>
</html>